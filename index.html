<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="https://use.typekit.net/ktv1szx.css">
    <link href="style.css" rel="stylesheet"/>
    <title>A Day in the Life</title>
</head>
<body id = "body">  
    <section class = "padding">
        <div class = "center">
            <h1>A Day in the Life</h1>  
            <h2 id = "name">Veronica Lorenzini</h2> 
            <p style = "line-height: 1.4; text-align: center;">Information Design Studio<br>Aalto University<br>2023</p>
        </div>
    </section>
    <div class = "sticky-background"></div>
    <div class = "sticky-section">
        <div class = "sticky">
            <div class = "line" id = "margin-line-top"></div>
            <div class = "icons" id = "time" style = "opacity: 0;"><h2>4 - 5AM</h2></div>
            <div class = "icons" id = "day" style = "opacity: 0;"><h2>WEEKDAY</h2></div>
            <div class = "select-container icons">
                <select id="select-day"></select>    
            </div> 
            <div id = "guide">
                <p style = "font-weight: 600;">Emotion Crystal</p>
                <img id = "guide-image" alt = "guide to crystal" src = "SVG/guide.svg">
                <img class = "color-scale" alt = "color scale" src = "SVG/color-scale.svg">
                <div class = "scale-labels-popout">
                    <p>0</p><p>0.5</p><p>1</p><p>1.5</p><p>2</p><p>2.5</p><p>3</p><p>3.5</p><p>4</p><p>4.5</p><p>5</p><p>5.5</p><p>6</p>
                </div>
            </div>

            <div id = "sidebar">
                <div class = "sidebar-group">
                    <div style = "opacity: 0;" id = "emotionSidebar" >
                        <p>EMOTION</p>
                        <button id = "guide-icon">?</button>
                    </div> 
                    <div id = "emotion-labels" class = "sidebar-group">
                        <div style = "opacity: 0;" id = "happy-label" class = "emotion-container">
                            <p id = "happy-score" class = "score"></p>
                            <p>HAPPY</p>
                        </div>
                        <div style = "opacity: 0;" id = "meaning-label" class = "emotion-container">
                            <p id = "meaning-score" class = "score"></p>
                            <p>MEANING</p>
                        </div>
                        <div style = "opacity: 0;" id = "tired-label" class = "emotion-container">
                            <p id = "tired-score" class = "score"></p>
                            <p>TIRED</p>
                        </div>
                        <div style = "opacity: 0;" id = "stress-label" class = "emotion-container">
                            <p id = "stress-score" class = "score"></p>
                            <p>STRESS</p>
                        </div>
                        <div style = "opacity: 0;" id = "pain-label" class = "emotion-container">
                            <p id = "pain-score" class = "score"></p>
                            <p>PAIN</p>
                        </div>
                        <div style = "opacity: 0;" id = "sad-label" class = "emotion-container">
                            <p id = "sad-score" class = "score"></p>
                            <p>SAD</p>
                        </div>
                    </div>   
                </div>
            </div>

            <div class = "icons" id = "sunrise" style = "opacity: 0.2;"><img alt = "sunrise icon" src = "SVG/sunrise.svg"></div>
            <div class = "icons" id = "sun" style = "opacity: 0.2;"><img alt = "sun icon" src = "SVG/sun.svg"></div>
            <div class = "icons" id = "sunset"style = "opacity: 0.2;"><img alt = "sunset icon" src = "SVG/sunset.svg"></div>
            <div class = "icons" id = "moon"style = "opacity: 0.2;"><img alt = "moon icon" src = "SVG/moon.svg"></div>
            <div class = "line" id = "sunrise-line"></div>
            <div class = "line" id = "sun-line"></div>
            <div class = "line" id = "sunset-line"></div>

            <div id = "container"></div>
            <div id = "area1" class = "area-container">  
                <p style = "opacity: 0;" id = "activitySidebar" class = "sidebar-group">ACTIVITY</p>
                <p id = "pc-label" class = "y-axis-label">PERSONAL CARE</p>
            </div>
            <div id = "area2" class = "area-container"> 
                <p id = "l-label" class = "y-axis-label">LEISURE</p>
            </div>
            <div id = "area3" class = "area-container"> 
                <p id = "w-label" class = "y-axis-label">WORK</p> 
            </div>
            <div id = "area4" class = "area-container">  
                <p id = "ha-label" class = "y-axis-label">HOUSEHOLD ACTIVITIES</p>
            </div>
            <div id = "area5" class = "area-container">  
                <p id = "ed-label" class = "y-axis-label">EATING & DRINKING</p>
            </div>
            <div id = "area6" class = "area-container">
                <p id = "t-label" class = "y-axis-label">TRAVEL</p>
            </div>
            <div id = "area7" class = "area-container">
                <p id = "e-label" class = "y-axis-label">EDUCATION</p>
            </div>

            <div id = "crystal-container"></div>

            <div style = "opacity: 0;" id = "heatmap"></div>

            <?xml version="1.0" encoding="UTF-8"?>
            <svg style = "opacity: 0;" id = "crystal" class = "crystal" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-10 -10 147.25 250.87">
                <filter id="blur">
                    <feGaussianBlur in="SourceGraphic" stdDeviation="4" />
                </filter>
                <defs>
                    <style>
                        .cls-1,
                        .cls-2{fill:none;}
                        .cls-3{clip-path:url(#clippath);}
                        .glow{fill:white; opacity: 0.8}
                        .cls-5{fill:url(#linear-gradient);}
                        .cls-5,
                        .pain,
                        .stress,
                        .sad,
                        .happy,
                        .cls-2{stroke:white;stroke-miterlimit:10;stroke-width:1px;}
                        .light-stroke{stroke:white;stroke-miterlimit:10;stroke-width:1px; opacity: 0.4;}
                        .cls-7{clip-path:url(#clippath-1);}
                        .cls-8{clip-path:url(#clippath-4);}
                        .cls-9{clip-path:url(#clippath-3);}
                        .cls-10{clip-path:url(#clippath-2);}
                        .pain{fill:transparent; opacity: 1}
                        .stress{fill:transparent; opacity: 1}
                        .sad{fill:transparent; opacity: 1}
                        .happy{fill:transparent; opacity: 1}
                    </style>
                    <clipPath id="clippath">
                        <polygon class="cls-1" 
                        points="61.66 .38 126.67 65.55 125.18 144.64 68.53 229.42 .99 155.15 9.09 68.87 61.66 .38"/>
                    </clipPath>
                    <clipPath id="clippath-1">
                        <polygon class="cls-1" 
                        points="61.66 .38 126.67 65.55 125.18 144.64 68.53 229.42 .99 155.15 9.09 68.87 61.66 .38"/>
                    </clipPath>
                    <clipPath id="clippath-2">
                        <polygon class="cls-1" 
                        points="61.66 .38 126.67 65.55 125.18 144.64 68.53 229.42 .99 155.15 9.09 68.87 61.66 .38"/>
                    </clipPath>
                    <clipPath id="clippath-3">
                        <polygon class="cls-1" 
                        points="61.66 .38 126.67 65.55 125.18 144.64 68.53 229.42 .99 155.15 9.09 68.87 61.66 .38"/>
                    </clipPath>
                    <clipPath id="clippath-4">
                        <polygon class="cls-2" 
                        points="61.66 .38 126.67 65.55 125.18 144.64 68.53 229.42 .99 155.15 9.09 68.87 61.66 .38"/>
                    </clipPath>
                </defs>
                <g id="Glow">
                    <path class="glow" 
                    filter="url(#blur)"
                    d="M126.67,65.55L61.66,.38,9.28,68.63l-.36-.03L.7,154.76h-.07s.07,.07,.07,.07l-.03,.28,.07-.23H.74l-.07,.23,.32,.03,67.54,74.27,56.84-85.03-.19,.1,1.49-78.94ZM.78,154.77l.15-.49H.93l-.15,.49H.78Z"/>
                </g>
                <g id="Pain">
                    <g class="cls-3">
                        <g>
                            <polygon class="pain" points="8.92 68.6 27.26 70.17 .67 155.11 8.92 68.6"/>
                            <polygon class="pain" points="87.04 164.54 .67 155.11 27.26 70.17 87.04 164.54"/>
                        </g>
                    </g>
                </g>
                <g id="Stress">
                    <g class="cls-7">
                        <g>
                            <polygon class="stress" points="27.26 70.17 126.37 65.27 125.18 144.64 87.04 164.54 27.26 70.17"/>
                            <polygon class="stress" points="126.37 65.27 125.18 144.64 87.04 164.54 126.37 65.27"/>
                        </g>
                    </g>
                </g>
                <g id="Sad">
                    <g class="cls-10">
                        <g>
                            <polygon class="sad" points="68.53 229.42 .63 154.75 87 164.18 68.53 229.42"/>
                            <polygon class="sad" points="68.53 229.42 87 164.18 125.37 144.39 68.53 229.42"/>
                        </g>
                    </g>
                </g>
                <g id="Happy">
                    <g class="cls-9">
                        <g>
                            <polygon class="cls-4" points="61.66 .38 9.09 68.87 27.43 70.45 126.67 65.55 61.66 .38"/>
                            <g>
                                <polyline class="cls-4" points="27.43 70.45 126.67 65.55 61.66 .38"/>
                                <polygon class="cls-4" points="61.66 .38 9.09 68.87 27.43 70.45 61.66 .38"/>
                            </g>
                        </g>
                    </g>
                    <g>
                        <g class="cls-8">
                            <g>
                                <polygon class="cls-5" points="61.66 .38 9.09 68.87 27.43 70.45 126.67 65.55 61.66 .38"/>
                                <g>
                                    <polyline class="happy" points="27.43 70.45 126.67 65.55 61.66 .38"/>
                                    <polygon class="happy" points="61.66 .38 9.09 68.87 27.43 70.45 61.66 .38"/>
                                </g>
                            </g>
                        </g>
                        <polygon class="cls-2" points="61.66 .38 126.67 65.55 125.18 144.64 68.53 229.42 .99 155.15 9.09 68.87 61.66 .38"/>
                    </g>
                </g>
            </svg>
        </div>

        <div id = "step1" class = "info padding">
            <p class = "text-box">
                Every year, the <a target = "_blank" href = "https://www.bls.gov/tus/">American Time Use Survey</a> collects data about the amount of time Americans spend doing various activities. 
            </p>
        </div>
        <div id = "step2" class = "info padding">
            <p class = "text-box">
                Respondents keep a time diary, tracking their activities throughout the day, as well as their emotions during those activities. 
            </p>
        </div>
        <div id = "step3" class = "info padding">
            <p class = "text-box">
                Let's dive into the data from 2021 and explore the activity trends of a weekday. 
            </p>
        </div>
        <div id = "step4" class = "info padding">
            <p class = "text-box">
                Using the time diaries, we can map what percentage of respondents are doing each activity type on a timeline of the day.  
            </p>
        </div>
        <div id = "step5" class = "info padding">
            <p class = "text-box">
                During the early morning, it looks like a majority of respondents are engaged in Personal Care, which is mostly sleep.  
            </p>
        </div>
        <div id = "step6" class = "info padding">
            <p class = "text-box">
                Between 8AM and 4PM, more people are working, with a slight dip during lunch around 12PM.
            </p>
        </div>
        <div id = "step7" class = "info padding">
            <p class = "text-box">
                Around 5PM, with the work day over, people start engaging in leisure activities. 
            </p>
        </div>
        <div id = "step8" class = "info padding">
            <p class = "text-box">
                What about the weekend? We can see that work drastically decreases while leisure, personal care, and household activities increase.
            </p>
        </div>
        <div id = "step9" class = "info padding">
            <p class = "text-box">
                But activity is only one part of the story, we can also explore people's emotional responses during these activities. 
            </p>
        </div>  
        <div id = "step10" class = "info padding">
            <p class = "text-box">
                Respondents ranked their levels of happiness, sadness, stress, pain, tiredness, and how meaningful they felt each activity was on a scale of 0 - 6, excluding sleep.
            </p>
        </div> 
        <div id = "step11" class = "info padding">
            <p class = "text-box">
                We can visualize these emotions & perceptions as a crystal, like a mood ring of the population. 
            </p>
        </div>  
        <div id = "step12" class = "info padding">
            <div class = "text-box">
                <p>The color of the top of the crystal corresponds to the average level of happiness, 0 being the darkest and 6 the lightest.</p>
                <img class = "color-scale" alt = "color scale" src = "SVG/color-scale.svg">
                <div class = "scale-labels">
                    <p>0</p><p>0.5</p><p>1</p><p>1.5</p><p>2</p><p>2.5</p><p>3</p><p>3.5</p><p>4</p><p>4.5</p><p>5</p><p>5.5</p><p>6</p>

                </div>
            </div>
        </div> 
        <div id = "step13" class = "info padding">
            <div class = "text-box">
                <p>The color of the middle, right of the crystal corresponds to the average level of stress.</p>
                <img class = "color-scale" alt = "color scale" src = "SVG/color-scale.svg">
                <div class = "scale-labels">
                    <p>0</p><p>0.5</p><p>1</p><p>1.5</p><p>2</p><p>2.5</p><p>3</p><p>3.5</p><p>4</p><p>4.5</p><p>5</p><p>5.5</p><p>6</p>

                </div>
            </div>
        </div> 
        <div id = "step14" class = "info padding">
            <div class = "text-box">
                <p>The color of the middle, left of the crystal corresponds to the average level of pain.</p>
                <img class = "color-scale" alt = "color scale" src = "SVG/color-scale.svg">
                <div class = "scale-labels">
                    <p>0</p><p>0.5</p><p>1</p><p>1.5</p><p>2</p><p>2.5</p><p>3</p><p>3.5</p><p>4</p><p>4.5</p><p>5</p><p>5.5</p><p>6</p>

                </div>
            </div>
        </div> 
        <div id = "step15" class = "info padding">
            <div class = "text-box">
                <p>The color of the bottom of the crystal corresponds to the average level of sadness.</p>
                <img class = "color-scale" alt = "color scale" src = "SVG/color-scale.svg">
                <div class = "scale-labels">
                    <p>0</p><p>0.5</p><p>1</p><p>1.5</p><p>2</p><p>2.5</p><p>3</p><p>3.5</p><p>4</p><p>4.5</p><p>5</p><p>5.5</p><p>6</p>

                </div>
            </div>
        </div> 
        <div id = "step16" class = "info padding">
            <p class = "text-box">
                The tilt of the crystal corresponds to the average level of tiredness, 0 being straight and 6 the most tilted.
            </p>
        </div> 
        <div id = "step17" class = "info padding">
            <p class = "text-box">
                And lastly, the size of the crystal corresponds to the level of meaning, 0 being the smallest and 6 the largest.
            </p>
        </div> 
        <div id = "step18" class = "info padding">
            <p class = "text-box">
                Let's put the system in action - here's the average emotions and activity of a weekday, with scores rounded to the 0.5.
            </p>
        </div> 
        <div id = "step19" class = "info padding">
            <p class = "text-box">
                And here's an average weekend - it looks like happiness increases while stress and tiredness decrease.
            </p>
        </div> 
        <div id = "step20" class = "info padding">
            <p class = "text-box">
                But emotion is not static, it changes over time. Let's take a walk through an average day and track both emotion and activity hour by hour.<br><br>You can use the dropdown menu to switch between weekday and weekend.<br><br>And you can hover over the question mark to see a guide for how to read the crystal. 
            </p>
        </div> 
        <div id = "step21" class = "info padding">
            
        </div> 
        <div id = "step22" class = "info padding">
            
        </div> 
        <div id = "step23" class = "info padding">
           
        </div> 
        <div id = "step24" class = "info padding">
            
        </div> 
        <div id = "step25" class = "info padding">
            
        </div> 
        <div id = "step26" class = "info padding">
            
        </div> 
        <div id = "step27" class = "info padding">
            
        </div> 
        <div id = "step28" class = "info padding">
            
        </div> 
        <div id = "step29" class = "info padding">
            
        </div> 
        <div id = "step30" class = "info padding">
            
        </div> 
        <div id = "step31" class = "info padding">
            
        </div> 
        <div id = "step32" class = "info padding">
            
        </div> 
        <div id = "step33" class = "info padding">
            
        </div> 
        <div id = "step34" class = "info padding">
            
        </div> 
        <div id = "step35" class = "info padding">
            
        </div> 
        <div id = "step36" class = "info padding">
            
        </div> 
        <div id = "step37" class = "info padding">
            
        </div> 
        <div id = "step38" class = "info padding">
            
        </div> 
        <div id = "step39" class = "info padding">
            
        </div> 
        <div id = "step40" class = "info padding">
            
        </div> 
        <div id = "step41" class = "info padding">
            <p class = "text-box">
                Let's take a more expansive look at the whole weekday.<br><br>The color of each square corresponds to the average emotion score for that hour. You can hover over each square to see the score. 
            </p>
        </div> 
        <div id = "step42" class = "info padding">
            <p class = "text-box">
                How do things change during different times of day?<br><br>It looks like stress is the lowest at the night and highest during the afternoon, when more people are at work.
            </p>
        </div> 
        <div id = "step43" class = "info padding">
            <p class = "text-box">
                Over the weekend, emotions look more constant.
            </p>
        </div> 
        <div id = "step44" class = "info padding">
            <p class = "text-box">
                How does your day look? How does your emotion and activity change over time?
            </p>
        </div> 
    </div>

    <section class = "padding">
        <div class = "center">
            <h3>Thank you!</h3>  
        </div>
        <footer>
            <p>© 2023 Veronica Lorenzini</p>
            <p>Aalto University | Information Design Studio</p>
        </footer>
    </section>

    <script>
        // D3
        Promise.all([
            d3.csv("DATA/times_WD.csv"),
            d3.csv("DATA/times_WE.csv"),
            d3.csv("DATA/heatmap_WD.csv"),
            d3.csv("DATA/heatmap_WE.csv")
            // d3.csv("DATA/times_WD_15"),
            // d3.csv("DATA/times_WE_15")
        ]).then(function(data) {
            //ROUND
            function round(n) {
                var integer = parseFloat((n+"").split(".")[0]);
                var decimal = parseFloat((n + "").split(".")[1]);
                if (decimal < 5) {
                    if (decimal < 3) {
                        decimal = 0
                    }
                    else {
                        decimal = 5
                    }
                }
                if (decimal > 5) {
                    if (decimal > 7) {
                        decimal = 0
                        integer += 1
                    }
                    else {
                        decimal = 5
                    }
                }
                integer = integer.toString()
                decimal = decimal.toString()
                return integer + "." + decimal
            }

            // PARSE
            var parsedWD = data[0].map(function(row) {
                row.Time = parseFloat(row.Time)
                row.PC = parseFloat(row.PC)
                row.L = parseFloat(row.L)
                row.W = parseFloat(row.W)
                row.HA = parseFloat(row.HA)
                row.ED = parseFloat(row.ED)
                row.T = parseFloat(row.T)
                row.HAPPY = parseFloat(round(row.HAPPY))
                row.SAD = parseFloat(round(row.SAD))
                row.STRESS = parseFloat(round(row.STRESS))
                row.PAIN = parseFloat(round(row.PAIN))
                row.TIRED = parseFloat(round(row.TIRED))
                row.MEANING = parseFloat(round(row.MEANING))
                return row
            })
            var parsedWE = data[1].map(function(row) {
                row.Time = parseFloat(row.Time)
                row.PC = parseFloat(row.PC)
                row.L = parseFloat(row.L)
                row.W = parseFloat(row.W)
                row.HA = parseFloat(row.HA)
                row.ED = parseFloat(row.ED)
                row.T = parseFloat(row.T)
                row.HAPPY = parseFloat(round(row.HAPPY))
                row.SAD = parseFloat(round(row.SAD))
                row.STRESS = parseFloat(round(row.STRESS))
                row.PAIN = parseFloat(round(row.PAIN))
                row.TIRED = parseFloat(round(row.TIRED))
                row.MEANING = parseFloat(round(row.MEANING))
                return row
            })
            var heatmapWD = data[2].map(function(row) {
                row.Score = parseFloat(round(row.Score))
                return row
            })
            var heatmapWE = data[3].map(function(row) {
                row.Score = parseFloat(round(row.Score))
                return row
            })
            // var parsedWD15 = data[4].map(function(row) {
            //     row.Time = parseFloat(row.Time)
            //     row.PC = parseFloat(row.PC)
            //     row.L = parseFloat(row.L)
            //     row.W = parseFloat(row.W)
            //     row.HA = parseFloat(row.HA)
            //     row.ED = parseFloat(row.ED)
            //     row.T = parseFloat(row.T)
            //     return row
            // })
            // var parsedWE15 = data[5].map(function(row) {
            //     row.Time = parseFloat(row.Time)
            //     row.PC = parseFloat(row.PC)
            //     row.L = parseFloat(row.L)
            //     row.W = parseFloat(row.W)
            //     row.HA = parseFloat(row.HA)
            //     row.ED = parseFloat(row.ED)
            //     row.T = parseFloat(row.T)
            //     return row
            // })

            // SCROLLER
            function inView(id) {
                var object = document.getElementById(id);
                var y = object.getBoundingClientRect().y
                if (y <= window.innerHeight/1.5 && y > 0) {
                    return true;
                }
                else {
                    return false;
                }
            }

            // BACKGROUND COLORS
            var timeColors = [
                "#0A4B9F", 
                "#245DA9", 
                "#4976B5", 
                "#678CC0", 
                "#8BA5CC", 
                "#8DAACF", 
                "#81A7CD", 
                "#74A4CB", 
                "#6AA1C9", 
                "#619FC8", 
                "#5D9BC6", 
                "#5392C2",
                "#4380BA",
                "#3F6DAC",
                "#0D4EA1",
                "#003C8F",
                "#023177",
                "#022763",
                "#011D4F",
                "#01143A",
                "#020B2C",
                "#"
            ]

            // DIMENSIONS AREA CHARTS
            var margin = {top: 10, right: 20, bottom: 0, left: 0},
            width = window.innerWidth/1.128 - margin.left - margin.right,
            height = window.innerHeight/1.94 - margin.top - margin.bottom;

            // SVG AREA CHART 1
            var svg1 = d3.select("#area1")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg1")
                .style("transition", "0.1s all")
                .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")")
            // SVG AREA CHART 2
            var svg2 = d3.select("#area2")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg2")
                .style("transition", "0.2s all")
                    .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")");
            // SVG AREA CHART 3
            var svg3 = d3.select("#area3")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg3")
                .style("transition", "0.3s all")
                    .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")");
            // SVG AREA CHART 4
            var svg4 = d3.select("#area4")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg4")
                .style("transition", "0.4s all")
                    .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")");
            // SVG AREA CHART 5
            var svg5 = d3.select("#area5")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg5")
                .style("transition", "0.5s all")
                    .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")");
            // SVG AREA CHART 6
            var svg6 = d3.select("#area6")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg6")
                .style("transition", "0.6s all")
                    .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")");

            // SVG AREA CHART 7
            var svg7 = d3.select("#area7")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("id", "svg7")
                .style("transition", "0.7s all")
                    .append("g")
                    .attr("transform",
                        "translate(" + margin.left + "," + margin.top + ")"); 


            // DIMENSIONS HEATMAP
            var marginH = {top: 0, right: 20, bottom: 0, left: 0},
            widthH = window.innerWidth/1.128 - marginH.left - marginH.right,
            heightH = window.innerHeight/3.3 - marginH.top - marginH.bottom;

            // SVG HEATMAP
            var svgH = d3.select("#heatmap")
            .append("svg")
                .attr("width", widthH + marginH.left + marginH.right)
                .attr("height", heightH + marginH.top + marginH.bottom)
                    .append("g")
                        .attr("transform", "translate(" + marginH.left + "," + marginH.top + ")");

            // SVG CONTAINER
            var svg = d3.select("#container")
            .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", 151)
                    .append("g")
                        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

            // ICON POSITIONS 
            var xAxis = d3.scaleLinear()
                .domain(d3.extent(parsedWD, function(d) {return d.Time}))
                .range([0, width]);
            var timesInt = [400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400]
            d3.select("#sunrise").style("left", (xAxis(timesInt[2]) - 12).toString() + "px")
            d3.select("#sun").style("left", (xAxis(timesInt[8]) - 12).toString() + "px")
            d3.select("#sunset").style("left", (xAxis(timesInt[14]) - 12).toString() + "px")
            d3.select("#moon").style("left", (xAxis(timesInt[18]) - 12).toString() + "px")

            // ICON LINES
            d3.select("#sunrise-line").style("left", xAxis(timesInt[4]).toString() + "px")
            d3.select("#sun-line").style("left", xAxis(timesInt[12]).toString() + "px")
            d3.select("#sunset-line").style("left", xAxis(timesInt[16]).toString() + "px")

            // CRYSTAL POSITIONS 
            var crystalPositions = [
                xAxis(timesInt[0]).toString() + "px", 
                xAxis(timesInt[1]).toString() + "px", 
                xAxis(timesInt[2]).toString() + "px", 
                xAxis(timesInt[3]).toString() + "px",
                xAxis(timesInt[4]).toString() + "px", 
                xAxis(timesInt[5]).toString() + "px", 
                xAxis(timesInt[6]).toString() + "px", 
                xAxis(timesInt[7]).toString() + "px",
                xAxis(timesInt[8]).toString() + "px", 
                xAxis(timesInt[9]).toString() + "px", 
                xAxis(timesInt[10]).toString() + "px", 
                xAxis(timesInt[11]).toString() + "px",
                xAxis(timesInt[12]).toString() + "px", 
                xAxis(timesInt[13]).toString() + "px", 
                xAxis(timesInt[14]).toString() + "px", 
                xAxis(timesInt[15]).toString() + "px",
                xAxis(timesInt[16]).toString() + "px", 
                xAxis(timesInt[17]).toString() + "px", 
                xAxis(timesInt[18]).toString() + "px", 
                xAxis(timesInt[19]).toString() + "px"
            ]

            // POPOUT GUIDE
            var clicked = false
            d3.select("#guide-icon").on('click', function(e) {
                if (!clicked) {
                    clicked = true  
                    d3.select("#guide").style("opacity", 1)  
                    d3.select("#guide-icon").style("background-color", "#E3E667")   
                }
                else {
                    clicked = false  
                    d3.select("#guide").style("opacity", 0)  
                    d3.select("#guide-icon").style("background-color", "white") 
                }
            })
            d3.select("#guide-icon").on('mouseover', function(e) {
                d3.select("#guide").style("opacity", 1)  
                d3.select("#guide-icon").style("background-color", "#E3E667")      
            })
            d3.select("#guide-icon").on('mouseout', function(e) {
                if (!clicked) {
                    d3.select("#guide").style("opacity", 0)  
                    d3.select("#guide-icon").style("background-color", "white")      
                } 
            })

            // WEEKDAY/WEEKEND DROPDOWN 
            var selected = "WEEKDAY"
            var days = ["WEEKDAY", "WEEKEND"]
            // INITIALIZE DROPDOWN
            d3.select("#select-day")
                .selectAll('dayOptions')
                .data(days)
                .enter()
                .append('option')
                .text(function(d) {return d}) 

            // SET ELEMENTS
            document.addEventListener("scroll", function() {
                // INITIALIZE
                if (inView("step1")) {  
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0)
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0);  
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0); 
                    d3.select("#activitySidebar").style("opacity", 0); 
                    //d3.select("#emotion-labels").style("height", "24vh");
                    d3.select("#happy-label").style("opacity", 0);
                    d3.select("#meaning-label").style("opacity", 0);
                    d3.select("#tired-label").style("opacity", 0);
                    d3.select("#stress-label").style("opacity", 0);
                    d3.select("#pain-label").style("opacity", 0);
                    d3.select("#sad-label").style("opacity", 0);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.selectAll(".y-axis-label").style("opacity", 0)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0);  
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.6 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.6;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "18vh"); 
                    d3.select("#area2").style("bottom", "15vh"); 
                    d3.select("#area3").style("bottom", "12vh"); 
                    d3.select("#area4").style("bottom", "9vh"); 
                    d3.select("#area5").style("bottom", "6vh"); 
                    d3.select("#area6").style("bottom", "3vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0, 0, 0)
                }
                // INTRO
                if (inView("step2")) {  
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0);  
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0);  
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.6 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.6;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/10)
                }
                // AVERAGE ACTIVITY WEEKDAY
                if (inView("step3")) {  
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0);  
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.select("#activitySidebar-expand").attr("id", "activitySidebar"); 
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 0.2);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 0.2);
                    d3.select("#stress-label").style("opacity", 0.2);
                    d3.select("#pain-label").style("opacity", 0.2);
                    d3.select("#sad-label").style("opacity", 0.2);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0);  
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.6 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.6;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 1, 0.8, 0)
                }
                // AVERAGE ACTIVITY WEEKDAY EXPAND
                if (inView("step4")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").attr("id", "activitySidebar-expand"); 
                    d3.selectAll(".y-axis-label-expand").style("opacity", 1)
                    d3.selectAll(".y-axis-label").attr("class", "y-axis-label-expand")
                    //d3.select("#emotion-labels").style("height", "24vh");
                    d3.select("#happy-label").style("opacity", 0);
                    d3.select("#meaning-label").style("opacity", 0);
                    d3.select("#tired-label").style("opacity", 0);
                    d3.select("#stress-label").style("opacity", 0);
                    d3.select("#pain-label").style("opacity", 0);
                    d3.select("#sad-label").style("opacity", 0);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.8 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.8;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "42vh"); 
                    d3.select("#area2").style("bottom", "35vh"); 
                    d3.select("#area3").style("bottom", "28vh"); 
                    d3.select("#area4").style("bottom", "21vh"); 
                    d3.select("#area5").style("bottom", "14vh"); 
                    d3.select("#area6").style("bottom", "7vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 1, 0.8, 0)
                }
                // HIGHLIGHT PERSONAL CARE
                if (inView("step5")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").attr("id", "activitySidebar-expand"); 
                    d3.selectAll(".y-axis-label-expand").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label").attr("class", "y-axis-label-expand")
                    d3.select("#pc-label").style("opacity", 1)
                    d3.select("#w-label").style("opacity", 0.2)
                    d3.select("#l-label").style("opacity", 0.2)
                    //d3.select("#emotion-labels").style("height", "24vh");
                    d3.select("#happy-label").style("opacity", 0);
                    d3.select("#meaning-label").style("opacity", 0);
                    d3.select("#tired-label").style("opacity", 0);
                    d3.select("#stress-label").style("opacity", 0);
                    d3.select("#pain-label").style("opacity", 0);
                    d3.select("#sad-label").style("opacity", 0);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.8 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.8;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "42vh"); 
                    d3.select("#area2").style("bottom", "35vh"); 
                    d3.select("#area3").style("bottom", "28vh"); 
                    d3.select("#area4").style("bottom", "21vh"); 
                    d3.select("#area5").style("bottom", "14vh"); 
                    d3.select("#area6").style("bottom", "7vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, 0)
                    drawArea("PC", parsedWD, "white", timeColors[0], 1, 0.8, 0)
                }
                // HIGHLIGHT WORK 
                if (inView("step6")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").attr("id", "activitySidebar-expand"); 
                    d3.selectAll(".y-axis-label-expand").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label").attr("class", "y-axis-label-expand")
                    d3.select("#pc-label").style("opacity", 0.2)
                    d3.select("#w-label").style("opacity", 1)
                    d3.select("#l-label").style("opacity", 0.2)
                    //d3.select("#emotion-labels").style("height", "24vh");
                    d3.select("#happy-label").style("opacity", 0);
                    d3.select("#meaning-label").style("opacity", 0);
                    d3.select("#tired-label").style("opacity", 0);
                    d3.select("#stress-label").style("opacity", 0);
                    d3.select("#pain-label").style("opacity", 0);
                    d3.select("#sad-label").style("opacity", 0);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.8 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.8;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "42vh"); 
                    d3.select("#area2").style("bottom", "35vh"); 
                    d3.select("#area3").style("bottom", "28vh"); 
                    d3.select("#area4").style("bottom", "21vh"); 
                    d3.select("#area5").style("bottom", "14vh"); 
                    d3.select("#area6").style("bottom", "7vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, 0)
                    drawArea("W", parsedWD, "white", timeColors[0], 1, 0.8, 0)
                }
                // HIGHLIGHT LEISURE
                if (inView("step7")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").attr("id", "activitySidebar-expand"); 
                    d3.selectAll(".y-axis-label-expand").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label").attr("class", "y-axis-label-expand")
                    d3.select("#pc-label").style("opacity", 0.2)
                    d3.select("#w-label").style("opacity", 0.2)
                    d3.select("#l-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "24vh");
                    d3.select("#happy-label").style("opacity", 0);
                    d3.select("#meaning-label").style("opacity", 0);
                    d3.select("#tired-label").style("opacity", 0);
                    d3.select("#stress-label").style("opacity", 0);
                    d3.select("#pain-label").style("opacity", 0);
                    d3.select("#sad-label").style("opacity", 0);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.8 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.8;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "42vh"); 
                    d3.select("#area2").style("bottom", "35vh"); 
                    d3.select("#area3").style("bottom", "28vh"); 
                    d3.select("#area4").style("bottom", "21vh"); 
                    d3.select("#area5").style("bottom", "14vh"); 
                    d3.select("#area6").style("bottom", "7vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, 0)
                    drawArea("L", parsedWD, "white", timeColors[0], 1, 0.8, 0)
                }
                // AVERAGE ACTIVITY WEEKEND EXPAND
                if (inView("step8")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKEND"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 0); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").attr("id", "activitySidebar-expand"); 
                    d3.selectAll(".y-axis-label-expand").style("opacity", 1)
                    d3.selectAll(".y-axis-label").attr("class", "y-axis-label-expand")
                    //d3.select("#emotion-labels").style("height", "24vh");
                    d3.select("#pc-label").style("opacity", 1)
                    d3.select("#w-label").style("opacity", 1)
                    d3.select("#l-label").style("opacity", 1)
                    d3.select("#happy-label").style("opacity", 0);
                    d3.select("#meaning-label").style("opacity", 0);
                    d3.select("#tired-label").style("opacity", 0);
                    d3.select("#stress-label").style("opacity", 0);
                    d3.select("#pain-label").style("opacity", 0);
                    d3.select("#sad-label").style("opacity", 0);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.8 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.8;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "42vh"); 
                    d3.select("#area2").style("bottom", "35vh"); 
                    d3.select("#area3").style("bottom", "28vh"); 
                    d3.select("#area4").style("bottom", "21vh"); 
                    d3.select("#area5").style("bottom", "14vh"); 
                    d3.select("#area6").style("bottom", "7vh"); 
                    drawArea("all", parsedWE, "white", timeColors[0], 1, 0.8, 0)
                }
                // INITIALIZE EMOTION
                if (inView("step9")) {  
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0);  
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar-expand").attr("id", "activitySidebar"); 
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    d3.select("#pc-label").style("opacity", 0.2)
                    d3.select("#w-label").style("opacity", 0.2)
                    d3.select("#l-label").style("opacity", 0.2)
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0);  
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.6 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.6;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/10)
                }
                // INTRODUCTION EMOTION 
                if (inView("step10")) {  
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0);  
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("0-6");
                    d3.select("#meaning-score").html("0-6");
                    d3.select("#tired-score").html("0-6");
                    d3.select("#stress-score").html("0-6");
                    d3.select("#pain-score").html("0-6");
                    d3.select("#sad-score").html("0-6");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", 100); 
                    d3.select("#heatmap").style("opacity", 0);  
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/1.6 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/1.6;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/10)
                }
                // CRYSTAL 
                if (inView("step11")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "0px");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "9vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 6, 4, 2, 0, 2.5])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // HOW TO READ HAPPY
                if (inView("step12")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 0.2);
                    d3.select("#stress-label").style("opacity", 0.2);
                    d3.select("#pain-label").style("opacity", 0.2);
                    d3.select("#sad-label").style("opacity", 0.2);
                    d3.select("#happy-score").html("6");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "0px");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 6, -1, -1, -1, 0])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // HOW TO READ STRESS
                if (inView("step13")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 0.2);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 0.2);
                    d3.select("#sad-label").style("opacity", 0.2);
                    d3.select("#happy-score").html("6");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("4");
                    d3.select("#pain-score").html("");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "0px");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 6, 4, -1, -1, 0])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // HOW TO READ PAIN
                if (inView("step14")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 0.2);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 0.2);
                    d3.select("#happy-score").html("6");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("4");
                    d3.select("#pain-score").html("2");
                    d3.select("#sad-score").html("");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "0px");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 6, 4, 2, -1, 0])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // HOW TO READ SAD
                if (inView("step15")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 0.2);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("6");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("");
                    d3.select("#stress-score").html("4");
                    d3.select("#pain-score").html("2");
                    d3.select("#sad-score").html("0");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "0px");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 6, 4, 2, 0, 0])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // HOW TO READ TIRED
                if (inView("step16")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("6");
                    d3.select("#meaning-score").html("");
                    d3.select("#tired-score").html("6");
                    d3.select("#stress-score").html("4");
                    d3.select("#pain-score").html("2");
                    d3.select("#sad-score").html("0");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "0px");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 6, 4, 2, 0, 6])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // HOW TO READ MEANING
                if (inView("step17")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("top", 0); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    d3.selectAll(".y-axis-label-expand").attr("class", "y-axis-label")
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("6");
                    d3.select("#meaning-score").html("0");
                    d3.select("#tired-score").html("0");
                    d3.select("#stress-score").html("4");
                    d3.select("#pain-score").html("2");
                    d3.select("#sad-score").html("0");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([6, 0, 4, 2, 0, 0])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/10)
                }
                // AVERAGE WEEKDAY EMOTIONS 
                if (inView("step18")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("4");
                    d3.select("#meaning-score").html("4");
                    d3.select("#tired-score").html("2.5");
                    d3.select("#stress-score").html("1.5");
                    d3.select("#pain-score").html("1");
                    d3.select("#sad-score").html("0.5");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([4, 4, 1.5, 1, 0.5, 2.5])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWD, "white", timeColors[20], 1, 0.8, window.innerHeight/20)
                }
                // AVERAGE WEEKEND EMOTIONS 
                if (inView("step19")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKEND"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("4.5");
                    d3.select("#meaning-score").html("4");
                    d3.select("#tired-score").html("2");
                    d3.select("#stress-score").html("1");
                    d3.select("#pain-score").html("1");
                    d3.select("#sad-score").html("0.5");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    averageCrystal([4.5, 4, 1, 1, 0.5, 2])
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    drawArea("all", parsedWE, "white", timeColors[20], 1, 0.8, window.innerHeight/20)
                }
                // WALK THROUGH INTRO
                if (inView("step20")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all").style("color", "#E3E667").style("border-bottom", "1px solid white")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", "15%"); 
                    d3.select("#crystal").style("top", "15%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all").style("background-color", "#E3E667")
                    d3.select("#guide").style("opacity", 1)
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#select-day").property("value", "WEEKDAY")
                    d3.select("#area1").style("bottom", "12vh"); 
                    d3.select("#area2").style("bottom", "10vh"); 
                    d3.select("#area3").style("bottom", "8vh"); 
                    d3.select("#area4").style("bottom", "6vh"); 
                    d3.select("#area5").style("bottom", "4vh"); 
                    d3.select("#area6").style("bottom", "2vh"); 
                    d3.selectAll(".myPathF").style("opacity", 0)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            averageCrystal([4, 4, 1.5, 1, 0.5, 2.5])
                            d3.select("#happy-score").html("4");
                            d3.select("#meaning-score").html("4");
                            d3.select("#tired-score").html("2.5");
                            d3.select("#stress-score").html("1.5");
                            d3.select("#pain-score").html("1");
                            d3.select("#sad-score").html("0.5");
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            averageCrystal([4.5, 4, 1, 1, 0.5, 2])
                            d3.select("#happy-score").html("4.5");
                            d3.select("#meaning-score").html("4");
                            d3.select("#tired-score").html("2");
                            d3.select("#stress-score").html("1");
                            d3.select("#pain-score").html("1");
                            d3.select("#sad-score").html("0.5");
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            averageCrystal([4, 4, 1.5, 1, 0.5, 2.5])
                            d3.select("#happy-score").html("4");
                            d3.select("#meaning-score").html("4");
                            d3.select("#tired-score").html("2.5");
                            d3.select("#stress-score").html("1.5");
                            d3.select("#pain-score").html("1");
                            d3.select("#sad-score").html("0.5");
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            averageCrystal([4.5, 4, 1, 1, 0.5, 2])
                            d3.select("#happy-score").html("4.5");
                            d3.select("#meaning-score").html("4");
                            d3.select("#tired-score").html("2");
                            d3.select("#stress-score").html("1");
                            d3.select("#pain-score").html("1");
                            d3.select("#sad-score").html("0.5");
                    }
                }
                // 4-5
                if (inView("step21")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all").style("color", "white").style("border-bottom", "none")
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("4 - 5AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[0]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide").style("opacity", 0);
                    clicked = false
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all").style("background-color", "white")
                    d3.select("#body").style("background-color", timeColors[19]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#101E58, #615C98)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(0, 1, parsedWD, timeColors[19], window.innerHeight/20)
                            colorCrystal(0, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(0, 1, parsedWE, timeColors[19], window.innerHeight/20)
                            colorCrystal(0, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(0, 1, parsedWD, timeColors[19], window.innerHeight/20)
                            colorCrystal(0, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(0, 1, parsedWE, timeColors[19], window.innerHeight/20)
                            colorCrystal(0, parsedWE)
                    }
                }
                // 5-6
                if (inView("step22")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("5 - 6AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[1]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[18]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#101E58, #C393AD)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(1, 2, parsedWD, timeColors[18], window.innerHeight/20)
                            colorCrystal(1, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(1, 2, parsedWE, timeColors[18], window.innerHeight/20)
                            colorCrystal(1, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(1, 2, parsedWD, timeColors[18], window.innerHeight/20)
                            colorCrystal(1, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(1, 2, parsedWE, timeColors[18], window.innerHeight/20)
                            colorCrystal(1, parsedWE)
                    }
                }
                // 6-7
                if (inView("step23")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("6 - 7AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[2]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[17]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#101E58, #ECABA6)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(2, 3, parsedWD, timeColors[17], window.innerHeight/20)
                            colorCrystal(2, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(2, 3, parsedWE, timeColors[17], window.innerHeight/20)
                            colorCrystal(2, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(2, 3, parsedWD, timeColors[17], window.innerHeight/20)
                            colorCrystal(2, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(2, 3, parsedWE, timeColors[17], window.innerHeight/20)
                            colorCrystal(2, parsedWE)
                    }
                }
                // 7-8
                if (inView("step24")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("7 - 8AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[3]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[16]);
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#09488E, #DA9B9E)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove(); 
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(3, 4, parsedWD, timeColors[16], window.innerHeight/20)
                            colorCrystal(3, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(3, 4, parsedWE, timeColors[16], window.innerHeight/20)
                            colorCrystal(3, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(3, 4, parsedWD, timeColors[16], window.innerHeight/20)
                            colorCrystal(3, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(3, 4, parsedWE, timeColors[16], window.innerHeight/20)
                            colorCrystal(3, parsedWE)
                    }
                }
                // 8-9
                if (inView("step25")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("8 - 9M"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[4]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[15]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #C7BBB6)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[15], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(4, 5, parsedWD, timeColors[15], window.innerHeight/20)
                            colorCrystal(4, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[15], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(4, 5, parsedWE, timeColors[15], window.innerHeight/20)
                            colorCrystal(4, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[15], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(4, 5, parsedWD, timeColors[15], window.innerHeight/20)
                            colorCrystal(4, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[15], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(4, 5, parsedWE, timeColors[15], window.innerHeight/20)
                            colorCrystal(4, parsedWE)
                    }
                }
                // 9-10
                if (inView("step26")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("9 - 10AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[5]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #95ACD0)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(5, 6, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(5, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(5, 6, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(5, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(5, 6, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(5, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(5, 6, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(5, parsedWE)
                    }
                }
                // 10-11
                if (inView("step27")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("10 - 11AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[6]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0B4F9A, #95ACD0)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(6, 7, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(6, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(6, 7, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(6, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(6, 7, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(6, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.3, 0.3, window.innerHeight/20)
                            drawAreaFocus(6, 7, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(6, parsedWE)
                    }
                }
                // 11-12
                if (inView("step28")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("11AM - 12PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[7]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0062B9, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(7, 8, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(7, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(7, 8, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(7, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(7, 8, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(7, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(7, 8, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(7, parsedWE)
                    }
                }
                // 12-13
                if (inView("step29")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("12 - 1PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1);
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[8]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[1]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0062B9, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(8, 9, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(8, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(8, 9, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(8, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(8, 9, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(8, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(8, 9, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(8, parsedWE)
                    }
                }
                // 13-14
                if (inView("step30")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("1 - 2PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[9]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[1]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0062B9, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(9, 10, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(9, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(9, 10, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(9, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(9, 10, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(9, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(9, 10, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(9, parsedWE)
                    }
                }
                // 14-15
                if (inView("step31")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("2 - 3PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[10]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[1]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0062B9, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(10, 11, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(10, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(10, 11, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(10, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(10, 11, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(10, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(10, 11, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(10, parsedWE)
                    }
                }
                // 15-16
                if (inView("step32")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("3 - 4PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[11]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[1]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#0062B9, #9DBADE)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(11, 12, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(11, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(11, 12, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(11, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(11, 12, parsedWD, timeColors[1], window.innerHeight/20)
                            colorCrystal(11, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[1], 0.4, 0.4, window.innerHeight/20)
                            drawAreaFocus(11, 12, parsedWE, timeColors[1], window.innerHeight/20)
                            colorCrystal(11, parsedWE)
                    }
                }
                // 16 - 17
                if (inView("step33")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("4 - 5PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[12]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#09488E, #E0BFA9)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(12, 13, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(12, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(12, 13, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(12, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(12, 13, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(12, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(12, 13, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(12, parsedWE)
                    }
                }
                // 17 - 18
                if (inView("step34")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("5 - 6PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[13]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[0]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#09488E, #EEC083)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(13, 14, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(13, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(13, 14, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(13, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(13, 14, parsedWD, timeColors[0], window.innerHeight/20)
                            colorCrystal(13, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[0], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(13, 14, parsedWE, timeColors[0], window.innerHeight/20)
                            colorCrystal(13, parsedWE)
                    }
                }
                // 18 -19
                if (inView("step35")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("6 - 7PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[14]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[15]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#09488E, #EBAC61)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[15], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(14, 15, parsedWD, timeColors[15], window.innerHeight/20)
                            colorCrystal(14, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[15], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(14, 15, parsedWE, timeColors[15], window.innerHeight/20)
                            colorCrystal(14, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[15], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(14, 15, parsedWD, timeColors[15], window.innerHeight/20)
                            colorCrystal(14, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[15], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(14, 15, parsedWE, timeColors[15], window.innerHeight/20)
                            colorCrystal(14, parsedWE)
                    }
                }
                // 19 - 20
                if (inView("step36")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("7 - 8PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[15]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[16]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#2D3272, #FF8E5E)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(15, 16, parsedWD, timeColors[16], window.innerHeight/20)
                            colorCrystal(15, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(15, 16, parsedWE, timeColors[16], window.innerHeight/20)
                            colorCrystal(15, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(15, 16, parsedWD, timeColors[16], window.innerHeight/20)
                            colorCrystal(15, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[16], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(15, 16, parsedWE, timeColors[16], window.innerHeight/20)
                            colorCrystal(15, parsedWE)
                    }
                }
                // 20 - 21
                if (inView("step37")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("8 - 9PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[16]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[17]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #E0949B)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(16, 17, parsedWD, timeColors[17], window.innerHeight/20)
                            colorCrystal(16, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(16, 17, parsedWE, timeColors[17], window.innerHeight/20)
                            colorCrystal(16, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(16, 17, parsedWD, timeColors[17], window.innerHeight/20)
                            colorCrystal(16, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[17], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(16, 17, parsedWE, timeColors[17], window.innerHeight/20)
                            colorCrystal(16, parsedWE)
                    }
                }
                // 21 - 22
                if (inView("step38")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("9 - 10PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[17]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[18]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #89526F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(17, 18, parsedWD, timeColors[18], window.innerHeight/20)
                            colorCrystal(17, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(17, 18, parsedWE, timeColors[18], window.innerHeight/20)
                            colorCrystal(17, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(17, 18, parsedWD, timeColors[18], window.innerHeight/20)
                            colorCrystal(17, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[18], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(17, 18, parsedWE, timeColors[18], window.innerHeight/20)
                            colorCrystal(17, parsedWE)
                    }
                }
                // 22 - 23
                if (inView("step39")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("10 - 11PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1)
                    //d3.select("#emotion-labels").style("height", "26.8vh");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[18]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.select("#body").style("background-color", timeColors[19]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #6F4C70)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 1)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(18, 19, parsedWD, timeColors[19], window.innerHeight/20)
                            colorCrystal(18, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(18, 19, parsedWE, timeColors[19], window.innerHeight/20)
                            colorCrystal(18, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(18, 19, parsedWD, timeColors[19], window.innerHeight/20)
                            colorCrystal(18, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[19], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(18, 19, parsedWE, timeColors[19], window.innerHeight/20)
                            colorCrystal(18, parsedWE)
                    }
                }
                // 23 - 24
                if (inView("step40")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 1);
                    d3.select("#select-day").style("pointer-events", "all")
                    d3.select("#time").style("opacity", 1); 
                    d3.select("#time").html("11PM - 12AM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1);
                    d3.select("#emotion-labels").style("justify-content", "flex-start").style("height", "auto");
                    d3.select("#happy-label").style("margin-top", "1.5em");
                    d3.selectAll(".emotion-container").style("margin-bottom", "1.5em");
                    d3.select("#sidebar-static").attr("id", "sidebar");
                    d3.select("#emotionSidebar").style("margin-bottom", 0);
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#crystal").style("opacity", 1); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[19]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.select("#guide-icon").style("opacity", 1).style("pointer-events", "all")
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 1)
                    svgH.selectAll('rect').style("pointer-events", "none")
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.selectAll(".myPathF").style("opacity", 0.8)
                    d3.select("#select-day").on("change", function(e) {
                        if (e.target.value == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(19, 20, parsedWD, timeColors[20], window.innerHeight/20)
                            colorCrystal(19, parsedWD)
                        }
                        if (e.target.value == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(19, 20, parsedWE, timeColors[20], window.innerHeight/20)
                            colorCrystal(19, parsedWE)
                        }
                    })
                    if (d3.select("#select-day").property("value") == "WEEKDAY") {
                            drawArea("all", parsedWD, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(19, 20, parsedWD, timeColors[20], window.innerHeight/20)
                            colorCrystal(19, parsedWD)
                    }
                    if (d3.select("#select-day").property("value") == "WEEKEND") {
                            drawArea("all", parsedWE, "white", timeColors[20], 0.2, 0.2, window.innerHeight/20)
                            drawAreaFocus(19, 20, parsedWE, timeColors[20], window.innerHeight/20)
                            colorCrystal(19, parsedWE)
                    }
                }
                // HEATMAP WEEKDAY 
                if (inView("step41")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("11 - 12PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1);
                    d3.select("#emotion-labels").style("justify-content", "space-around").style("height", heightH + "px");
                    d3.select("#happy-label").style("margin-top", 0);
                    d3.selectAll(".emotion-container").style("margin-bottom", 0);
                    d3.select("#sidebar").attr("id", "sidebar-static");
                    d3.select("#emotionSidebar").style("margin-bottom", "2px");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity",1);
                    d3.select("#happy-score").html("4");
                    d3.select("#meaning-score").html("4");
                    d3.select("#tired-score").html("2.5");
                    d3.select("#stress-score").html("1.5");
                    d3.select("#pain-score").html("1");
                    d3.select("#sad-score").html("0.5");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[19]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 1); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2.3 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2.3;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    d3.select("#select-day").property("value", "WEEKDAY")
                    drawArea("all", parsedWD, "white", timeColors[20], 1, 0.8, window.innerHeight/10)
                    d3.selectAll(".myPathF").style("opacity", 0)
                    drawAreaFocus(19, 20, parsedWD, timeColors[20], window.innerHeight/10)
                    drawHeatMap(heatmapWD)
                }
                // HEATMAP WEEKDAY TIME OF DAY
                if (inView("step42")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKDAY"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("11 - 12PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1);
                    d3.select("#emotion-labels").style("justify-content", "space-around").style("height", heightH + "px");
                    d3.select("#happy-label").style("margin-top", 0);
                    d3.selectAll(".emotion-container").style("margin-bottom", 0);
                    d3.select("#sidebar").attr("id", "sidebar-static");
                    d3.select("#emotionSidebar").style("margin-bottom", "2px");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity",1);
                    d3.select("#happy-score").html("4");
                    d3.select("#meaning-score").html("4");
                    d3.select("#tired-score").html("2.5");
                    d3.select("#stress-score").html("1.5");
                    d3.select("#pain-score").html("1");
                    d3.select("#sad-score").html("0.5");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[19]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 1); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 1)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2.3 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2.3;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    drawArea("all", parsedWD, "white", timeColors[20], 1, 0.8, window.innerHeight/10)
                    drawHeatMap(heatmapWD)
                }
                // HEATMAP WEEKEND 
                if (inView("step43")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 1);
                    d3.select("#day").html("WEEKEND"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("3 - 4PM"); 
                    d3.select("#emotionSidebar").style("opacity", 1); 
                    d3.select("#activitySidebar").style("opacity", 1); 
                    d3.selectAll(".y-axis-label").style("opacity", 1);
                    d3.select("#emotion-labels").style("justify-content", "space-around").style("height", heightH + "px");
                    d3.select("#happy-label").style("margin-top", 0);
                    d3.selectAll(".emotion-container").style("margin-bottom", 0);
                    d3.select("#sidebar").attr("id", "sidebar-static");
                    d3.select("#emotionSidebar").style("margin-bottom", "2px");
                    d3.select("#happy-label").style("opacity", 1);
                    d3.select("#meaning-label").style("opacity", 1);
                    d3.select("#tired-label").style("opacity", 1);
                    d3.select("#stress-label").style("opacity", 1);
                    d3.select("#pain-label").style("opacity", 1);
                    d3.select("#sad-label").style("opacity", 1);
                    d3.select("#happy-score").html("4.5");
                    d3.select("#meaning-score").html("4");
                    d3.select("#tired-score").html("2");
                    d3.select("#stress-score").html("1");
                    d3.select("#pain-score").html("1");
                    d3.select("#sad-score").html("0.5");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[19]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 1); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 1);
                    d3.select("#sun").style("opacity", 1);
                    d3.select("#sunset").style("opacity", 1);
                    d3.select("#moon").style("opacity", 1);
                    d3.select("#sunrise-line").style("opacity", 1)
                    d3.select("#sun-line").style("opacity", 1)
                    d3.select("#sunset-line").style("opacity", 1)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2.3 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2.3;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    drawArea("all", parsedWE, "white", timeColors[20], 1, 0.8, window.innerHeight/10)
                    drawHeatMap(heatmapWE)
                }
                // OUTRO 
                if (inView("step44")) {
                    d3.select("#area1").style("border-top", "none")
                    d3.select("#day").style("opacity", 0.2);
                    d3.select("#day").html("WEEKEND"); 
                    d3.selectAll(".select-container").style("opacity", 0);
                    d3.select("#select-day").style("pointer-events", "none")
                    d3.select("#time").style("opacity", 0); 
                    d3.select("#time").html("3 - 4PM"); 
                    d3.select("#emotionSidebar").style("opacity", 0.2); 
                    d3.select("#activitySidebar").style("opacity", 0.2); 
                    d3.selectAll(".y-axis-label").style("opacity", 0.2);
                    d3.select("#emotion-labels").style("justify-content", "space-around").style("height", heightH + "px");
                    d3.select("#happy-label").style("margin-top", 0);
                    d3.selectAll(".emotion-container").style("margin-bottom", 0);
                    d3.select("#sidebar").attr("id", "sidebar-static");
                    d3.select("#emotionSidebar").style("margin-bottom", "2px");
                    d3.select("#happy-label").style("opacity", 0.2);
                    d3.select("#meaning-label").style("opacity", 0.2);
                    d3.select("#tired-label").style("opacity", 0.2);
                    d3.select("#stress-label").style("opacity", 0.2);
                    d3.select("#pain-label").style("opacity", 0.2);
                    d3.select("#sad-label").style("opacity", 0.2);
                    d3.select("#happy-score").html("4.5");
                    d3.select("#meaning-score").html("4");
                    d3.select("#tired-score").html("2");
                    d3.select("#stress-score").html("1");
                    d3.select("#pain-score").html("1");
                    d3.select("#sad-score").html("0.5");
                    d3.select("#happy-score").style("width", "2em");
                    d3.select("#meaning-score").style("width", "2em");
                    d3.select("#tired-score").style("width", "2em");
                    d3.select("#stress-score").style("width", "2em");
                    d3.select("#pain-score").style("width", "2em");
                    d3.select("#sad-score").style("width", "2em");
                    d3.select("#crystal").style("opacity", 0); 
                    d3.select("#crystal").style("width", "8vw"); 
                    d3.select("#crystal").style("left", crystalPositions[19]); 
                    d3.select("#crystal").style("top", "10%"); 
                    d3.select("#heatmap").style("opacity", 0.2); 
                    d3.select("#body").style("background-color", timeColors[20]); 
                    d3.selectAll(".sticky-background").style("background", "linear-gradient(#011443, #433B6F)"); 
                    d3.select("#sunrise").style("opacity", 0.2);
                    d3.select("#sun").style("opacity", 0.2);
                    d3.select("#sunset").style("opacity", 0.2);
                    d3.select("#moon").style("opacity", 0.2);
                    d3.select("#sunrise-line").style("opacity", 0.2)
                    d3.select("#sun-line").style("opacity", 0.2)
                    d3.select("#sunset-line").style("opacity", 0.2)
                    d3.select("#guide-icon").style("opacity", 0).style("pointer-events", "none").style("background-color", "white")
                    d3.select("#guide").style("opacity", 0)
                    svg.selectAll('*').remove();
                    // svg1.selectAll('*').remove();
                    // svg2.selectAll('*').remove();
                    // svg3.selectAll('*').remove();
                    // svg4.selectAll('*').remove();
                    // svg5.selectAll('*').remove();
                    // svg6.selectAll('*').remove();
                    // svg7.selectAll('*').remove();
                    // height = window.innerHeight/2.3 - margin.top - margin.bottom;
                    // heightSVG = window.innerHeight/2.3;
                    // d3.select("#svg1").style("height", heightSVG); 
                    // d3.select("#svg2").style("height", heightSVG); 
                    // d3.select("#svg3").style("height", heightSVG); 
                    // d3.select("#svg4").style("height", heightSVG); 
                    // d3.select("#svg5").style("height", heightSVG); 
                    // d3.select("#svg6").style("height", heightSVG); 
                    // d3.select("#svg7").style("height", heightSVG); 
                    drawArea("all", parsedWE, "white", timeColors[20], 0.2, 0.1, window.innerHeight/10)
                    drawHeatMap(heatmapWE)
                }
            })

            // COLOR 
            var colorScale = d3.scaleSequential()
                .interpolator(d3.interpolateRgb("#1F0726", "#C16BDB"))
                .domain([0,4])

            // var colorScale = ["#4A4673", "#504C7D", "#565287", "#5C5890", "#645C9A", "#735FA6", "#8362B1", "#9565BE", "#A267C9", "#A95FD4", "#AC53E1", "#AF48ED", "#B436FF"]

            // ROTATION 
            var rotation = [
                "rotate(2deg)", 
                "rotate(6deg)", 
                "rotate(10deg)", 
                "rotate(14deg)", 
                "rotate(18deg)", 
                "rotate(22deg)", 
                "rotate(26deg)", 
                "rotate(30deg)", 
                "rotate(34deg)", 
                "rotate(38deg)", 
                "rotate(42deg)", 
                "rotate(46deg)", 
                "rotate(50deg)"]

            // SCALE
            var scalesString = ["scale(0.7)", "scale(0.75)", "scale(0.8)", "scale(0.85)", "scale(0.9)", "scale(0.95)", "scale(1)", "scale(1.05)", "scale(1.1)", "scale(1.15)", "scale(1.2)", "scale(1.25)", "scale(1.3)"]
            var scales = [0.7, 0.75, 0.8, 0.85, 0.9, 0.95, 1, 1.05, 1.1, 1.15, 1.2, 1.25, 1.3]

            // COLOR  AVERAGE CRYSTAL 
            function averageCrystal(averages) {
                d3.selectAll(".happy").style("fill", colorScale(averages[0])) 
                d3.selectAll(".stress").style("fill", colorScale(averages[2]))
                d3.selectAll(".pain").style("fill", colorScale(averages[3]))
                d3.selectAll(".sad").style("fill", colorScale(averages[4]))
                d3.select("#crystal").style("transform", rotation[averages[5]*2])
                d3.select("#crystal").style("scale", scales[averages[1]*2])
            }

            // COLOR TIME BASED CRYSTAL
            function colorCrystal(index, dataset) {
                // GET ROW
                var filteredData = dataset
                    .filter(function(d, i) {
                        return i === index;
                    })
                //.transition()
                d3.selectAll(".happy").style("fill", colorScale(filteredData[0].HAPPY))
                d3.selectAll(".stress").style("fill", colorScale(filteredData[0].STRESS))
                d3.selectAll(".pain").style("fill", colorScale(filteredData[0].PAIN))
                d3.selectAll(".sad").style("fill", colorScale(filteredData[0].SAD))
                d3.select("#crystal").style("transform", rotation[filteredData[0].TIRED*2])
                d3.select("#crystal").style("scale", scales[filteredData[0].MEANING*2])
                

                d3.select("#happy-score").html(filteredData[0].HAPPY).style("width", "2em")
                d3.select("#meaning-score").html(filteredData[0].MEANING).style("width", "2em")
                d3.select("#tired-score").html(filteredData[0].TIRED).style("width", "2em")
                d3.select("#stress-score").html(filteredData[0].STRESS).style("width", "2em")
                d3.select("#pain-score").html(filteredData[0].PAIN).style("width", "2em")
                d3.select("#sad-score").html(filteredData[0].SAD).style("width", "2em")
            }   

            function drawAreaFocus(index1, index2, dataset, stroke, offset) {
                var filteredData = dataset
                    .filter(function(d, i) {
                        return i === index1 || i === index2
                    })
                // X SCALE
                var x = d3.scaleLinear()
                    .domain(d3.extent(dataset, function(d) {return d.Time}))
                    .range([0, width]);
                // X AXIS SCALE
                var xAxis = d3.scaleLinear()
                    .domain(d3.extent(dataset, function(d) {return d.Time}))
                    .range([0, width]);
                
                // X AXIS   
                var timesString = ["4AM","5AM","6AM","7AM","8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM", "12AM"]
                var timesInt = [400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400]
                svg.append("text")
                    .attr("text-anchor", "center")
                    .text(timesString[index1])
                    .classed("x-axis-label", true)
                    .attr("fill", "white")
                    .attr("x", xAxis(timesInt[index1]))
                    .attr("y", 140)
                svg.append("text")
                    .attr("text-anchor", "center")
                    .text(timesString[index2])
                    .classed("x-axis-label", true)
                    .attr("fill", "white")
                    .attr("x", xAxis(timesInt[index2]))
                    .attr("y", 140)
                

                // Y SCALE
                var y = d3.scaleLinear()
                    .domain([0, 80])
                    .range([height, offset]);
                
                // DRAW AREA 1
                // BIND TO NEW DATA
                var uF = svg1.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.PC)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
                // DRAW AREA 2
                // BIND TO NEW DATA
                var uF = svg2.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.L)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
                // DRAW AREA 3
                // BIND TO NEW DATA
                var uF = svg3.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.W)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
                // DRAW AREA 4
                // BIND TO NEW DATA
                var uF = svg4.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.HA)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
                // DRAW AREA 5
                // BIND TO NEW DATA
                var uF = svg5.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.ED)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
                // DRAW AREA 6
                // BIND TO NEW DATA
                var uF = svg6.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.T)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
                // DRAW AREA 7
                // BIND TO NEW DATA
                var uF = svg7.selectAll(".myPathF")
                    .data([filteredData], function(d) {return d.Time})
                // UPDATE LINE
                uF
                    .enter()
                    .append("path")
                    .attr("class", "myPathF")
                    .merge(uF)
                    .attr("d", d3.area()
                    .x(function(d) {return x(d.Time)})
                    .y0(y(0))
                    .y1(function(d) { 
                        return y(d.E)
                    }))
                    .attr("fill", "white")
                    .attr("opacity", 0.8)
                    .attr("stroke", stroke)
                    .attr("stroke-width", 1) 
            }

            function drawArea(activity, dataset, fill, stroke, opacityAxis, opacity, offset) {
                // X SCALE
                var x = d3.scaleLinear()
                    .domain(d3.extent(dataset, function(d) {return d.Time}))
                    .range([0, width]);
                    // X AXIS SCALE
                var xAxis = d3.scaleLinear()
                    .domain(d3.extent(dataset, function(d) {return d.Time}))
                    .range([0, width]);

                // X AXIS   
                var timesString = ["4AM","5AM","6AM","7AM","8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM", "12AM"]
                var timesInt = [400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400]
                timesString.forEach(function(e) {
                    var index = timesString.indexOf(e)
                    svg.append("text")
                    .attr("text-anchor", "center")
                    .text(e)
                    .classed("x-axis-label", true)
                    .attr("fill", "white")
                    .attr("opacity", opacityAxis)
                    .attr("x", xAxis(timesInt[index]))
                    .attr("y", 140)
                })

                // Y SCALE
                var y = d3.scaleLinear()
                    .domain([0, 80])
                    .range([height, offset]);

                // DRAW AREA 1
                if (activity == "all" || activity == "PC") {
                    // BIND TO NEW DATA
                    var u = svg1.selectAll(".myPath")
                        .data([dataset], function(d) {return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.PC)
                        }))
                }
                // DRAW AREA 2
                if (activity == "all" || activity == "L") {
                    // BIND TO NEW DATA
                    var u = svg2.selectAll(".myPath")
                        .data([dataset], function(d) {return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.L)
                        }))
                }
                // DRAW AREA 3
                if (activity == "all" || activity == "W") {
                    // BIND TO NEW DATA
                    var u = svg3.selectAll(".myPath")
                        .data([dataset], function(d) {return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.W)
                        }))
                }
                // DRAW AREA 4
                if (activity == "all" || activity == "HA") {
                    // BIND TO NEW DATA
                    var u = svg4.selectAll(".myPath")
                        .data([dataset], function(d) {return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.HA)
                        }))
                }
                // DRAW AREA 5
                if (activity == "all" || activity == "ED") {
                    // BIND TO NEW DATA
                    var u = svg5.selectAll(".myPath")
                        .data([dataset], function(d) {return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.ED)
                        }))
                }
                // DRAW AREA 6
                if (activity == "all" || activity == "T") {
                    // BIND TO NEW DATA
                    var u = svg6.selectAll(".myPath")
                        .data([dataset], function(d) {return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.T)
                        }))
                }
                // DRAW AREA 7
                if (activity == "all" || activity == "E") {
                    // BIND TO NEW DATA
                    var u = svg7.selectAll(".myPath")
                        .data([dataset], function(d){ return d.Time})
                    // UPDATE LINE
                    u
                        .enter()
                        .append("path")
                        .attr("class", "myPath")
                        .merge(u)
                        .attr("fill", fill)
                        .attr("opacity", opacity)
                        .attr("stroke", stroke)
                        .attr("stroke-width", 1) 
                        .attr("d", d3.area()
                        .x(function(d) {return x(d.Time)})
                        .y0(y(0))
                        .y1(function(d) { 
                            return y(d.E)
                        }))
                }
            }

            // DRAW HEATMAP
            function drawHeatMap(dataset) {
                var emotions = ['Sad', 'Pain', 'Stress', 'Tired', 'Meaning', "Happy"]
                var times = ['400', '500', '600', '700', '800', '900', '1000', '1100', '1200', '1300', '1400', '1500', '1600', '1700', '1800', '1900', '2000', '2100', '2200', '2300']

                // X AXIS
                var x = d3.scaleBand()
                    .range([0, widthH])
                    .domain(times)
                    .padding(0);

                // Y AXIS AND SCALE
                var y = d3.scaleBand()
                    .range([heightH, 0])
                    .domain(emotions)
                    .padding(0);
                // svg.append("g")
                //     .style("font-size", 10)
                //     .call(d3.axisRight(y).tickSize(0))
                //     .select(".domain").remove()

                // TOOLTIP
                var tooltip = d3.select("#body")
                    .append("div")
                    .style("opacity", 1)
                    .attr("class", "tooltip")

                var mouseover = function(d) {
                    tooltip
                        .style("opacity", 1)
                }
                var mousemove = function(event, d) {
                    tooltip
                        .html(d.Score)
                        .style("left", (event.pageX + 20) + "px") 
                        .style("top", (event.pageY - 10) + "px")
                }
                var mouseleave = function(d) {
                    tooltip
                        .style("opacity", 0)
                }

                svgH.selectAll("rect")
                    .data(dataset)
                    .join(
                        function(enter) {
                            return enter.append("rect")
                        }
                    )
                    .attr("class", "myRect")
                    .attr("x", function(d) {return x(d.Time)})
                        .attr("y", function(d) {return y(d.Emotion)})
                        .attr("width", x.bandwidth())
                        .attr("height", y.bandwidth())
                        .style("fill", function(d) {return colorScale(d.Score)})
                        .style("z-index", 800)
                        .attr("stroke", "white")
                        .attr("stroke-width", 1)
                        .style("opacity", 1)
                        .on("mouseover", mouseover)
                        .on("mousemove", mousemove)
                        .on("mouseleave", mouseleave)

            }

            // // DRAW
            // function draw(dataset, categories) {
                
            // }

            // // INITIALIZE
            // draw(parsedWD, categories)

            // // WEEKEND BUTTON
            // d3.select('#weekend').on('click', function(e) {
            //     // SHOW WEEKEND 
            //     if (d3.select('#weekend').classed("hide") === true) {
            //         d3.select('#weekend')
            //         draw(parsedWE, categories)
            //         .classed("show", true)
            //         .classed("hide", false)
            //     }
            //     // SHOW WEEKDAY 
            //     else {
            //         draw(parsedWD, categories)
            //         .classed("show", false)
            //         .classed("hide", true)
            //     }
                
            // })

        })

    </script>

</body>
</html>